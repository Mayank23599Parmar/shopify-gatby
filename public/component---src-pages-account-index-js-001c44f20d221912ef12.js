"use strict";(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[399],{4108:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(7294),a=n(4160),l=n(6163),c=n(2514);function o(){const{cart:e}=(0,l.Z)(),{isCustomerLogin:t,logOut:n}=(0,c.Z)();return(0,r.useEffect)((()=>{console.log("Navbar rendering",t)})),r.createElement("header",{className:"py-4 shadow-sm bg-white"},r.createElement("div",{className:"container flex items-center justify-between"},r.createElement(a.rU,{to:"/"},"Logo"),r.createElement("div",{className:"w-full max-w-xl relative flex"},r.createElement("span",{className:"absolute left-4 top-3 text-lg text-gray-400"},r.createElement("i",{className:"fa-solid fa-magnifying-glass"})),r.createElement("input",{type:"text",name:"search",id:"search",className:"w-full border border-primary border-r-0 pl-12 py-3 pr-3 rounded-l-md focus:outline-none",placeholder:"search"}),r.createElement("button",{className:"bg-primary border border-primary text-white px-8 rounded-r-md hover:bg-transparent hover:text-primary transition"},"Search")),r.createElement("div",{className:"flex gap-3 items-center space-x-4"},r.createElement(a.rU,{to:"/cart",className:"text-center text-gray-700 hover:text-primary transition relative"},r.createElement("div",{className:"text-2xl"},r.createElement("i",{className:"fa-solid fa-bag-shopping"})),r.createElement("div",{className:"text-lg leading-3"},"Cart"),r.createElement("div",{className:"absolute -right-4 -top-4 w-5 h-5 rounded-full flex items-center justify-center bg-primary text-white text-xs"},e.totalQuantity)),r.createElement(a.rU,{to:t?"/account":"/account/login",className:"text-center text-gray-700 hover:text-primary transition relative"},r.createElement("div",{className:"text-2xl"},r.createElement("i",{className:"fa-regular fa-user"})),r.createElement("div",{className:"text-lg leading-3"},"Account")))))}function s(){return r.createElement("footer",{className:"bg-white rounded-lg shadow m-4 dark:bg-gray-800"},r.createElement("div",{className:"w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between"},r.createElement("span",{className:"text-sm text-gray-500 sm:text-center dark:text-gray-400"},"© 2023 ",r.createElement(a.rU,{to:"/",className:"hover:underline"},"Flowbite™"),". All Rights Reserved."),r.createElement("ul",{className:"flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0"},r.createElement("li",null,r.createElement(a.rU,{to:"/",activeClassName:"active",className:"mr-4 hover:underline md:mr-6 "},"Home")),r.createElement("li",null,r.createElement(a.rU,{to:"/products",activeClassName:"active",className:"mr-4 hover:underline md:mr-6"},"Product")),r.createElement("li",null,r.createElement(a.rU,{to:"/about",activeClassName:"active",className:"mr-4 hover:underline md:mr-6"},"About")))))}var i=n(6886);var m=function(e){let{cartItem:t}=e;(0,r.useEffect)((()=>{console.log("CartDrawerItem rendering")}));const n={price:t.merchandise.price.amount,currencyCode:"USD",withZero:!0};console.log(t,"cartItem");const a=(0,i.Z)(n),{updateCartLineItem:c,removeCartLineItem:o}=(0,l.Z)();return console.log(a,"pricepriceprice"),r.createElement("li",{className:"flex py-6",key:t.id},r.createElement("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200"},r.createElement("img",{src:t.merchandise.image.url,alt:t.merchandise.title,className:"h-full w-full object-cover object-center"})),r.createElement("div",{className:"ml-4 flex flex-1 flex-col"},r.createElement("div",null,r.createElement("div",{className:"flex justify-between text-base font-medium text-gray-900"},r.createElement("h3",null,r.createElement("a",{href:"#"},t.merchandise.product.title)),r.createElement("p",{className:"ml-4"},null==a?void 0:a.price)),r.createElement("p",{className:"mt-1 text-sm text-gray-500"},t.merchandise.title)),r.createElement("div",{className:"flex flex-1 items-end justify-between text-sm"},r.createElement("div",{className:"mx-auto flex border border-gray-300 text-gray-600 divide-x divide-gray-300 w-max"},r.createElement("div",{className:"h-8 w-8 text-xl flex items-center justify-center cursor-pointer select-none",onClick:()=>c({lineId:t.id,quantity:t.quantity-1})},"-"),r.createElement("div",{className:"h-8 w-8 text-base flex items-center justify-center"},t.quantity),r.createElement("div",{className:"h-8 w-8 text-xl flex items-center justify-center cursor-pointer select-none",onClick:()=>c({lineId:t.id,quantity:t.quantity+1})},"+")),r.createElement("div",{className:"flex"},r.createElement("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>o({lineId:t.id})},"Remove")))))};function u(){var e;const{cart:t,toggleCartDrawer:n,isCartDrawerOpen:c}=(0,l.Z)();(0,r.useEffect)((()=>{console.log("CartDrwawer rendering")}));const o=(null==t||null===(e=t.lines)||void 0===e?void 0:e.nodes)||[];return console.log(t,n,c,"cart?.cost?.subtotalAmount"),r.createElement(r.Fragment,null,c&&r.createElement("div",{className:"relative z-10","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},r.createElement("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),r.createElement("div",{className:"fixed inset-0 overflow-hidden"},r.createElement("div",{className:"absolute inset-0 overflow-hidden"},r.createElement("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},r.createElement("div",{className:"pointer-events-auto w-screen max-w-md"},r.createElement("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl"},r.createElement("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6"},r.createElement("div",{className:"flex items-start justify-between"},r.createElement("h2",{className:"text-lg font-medium text-gray-900",id:"slide-over-title"},"Shopping cart"),r.createElement("div",{className:"ml-3 flex h-7 items-center"},r.createElement("button",{type:"button",onClick:()=>n(!1),className:"-m-2 p-2 text-gray-400 hover:text-gray-500"},r.createElement("span",{className:"sr-only"},"Close panel"),r.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",ariaHidden:"true"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))),r.createElement("div",{className:"mt-8"},r.createElement("div",{className:"flow-root"},r.createElement("ul",{role:"list",className:"-my-6 divide-y divide-gray-200"},o.map((e=>r.createElement(m,{cartItem:e}))))))),r.createElement("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6"},r.createElement("div",{className:"flex justify-between text-base font-medium text-gray-900"},r.createElement("p",null,"Subtotal")),r.createElement("p",{className:"mt-0.5 text-sm text-gray-500"},"Shipping and taxes calculated at checkout."),r.createElement("div",{className:"mt-6"},r.createElement("button",{onClick:()=>window.location.href=t.checkoutUrl,className:" w-full flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700"},"Checkout")),r.createElement("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500"},r.createElement("p",null,"or",r.createElement(a.rU,{to:"/",type:"button",className:"  font-medium text-indigo-600 hover:text-indigo-500"},"Continue Shopping",r.createElement("span",{"aria-hidden":"true"}," →"))))))))))))}var d=(0,r.memo)(u);function f(e){let{children:t,pageName:n="index"}=e;return r.createElement("div",{className:"template-"+n},r.createElement(o,null),r.createElement("main",{id:"mainContent"},t),r.createElement(d,null),r.createElement(s,null))}var v=(0,r.memo)(f)},6417:function(e,t,n){n.d(t,{w:function(){return x},u:function(){return h}});var r=n(7294);const a="FETCH_CUSTOMER_DATA",l="CUSTOMER_LOADER";var c,o=(e,t)=>{switch(t.type){case a:return{...e,customer:t.payload};case l:return{...e,customerLoader:t.payload};default:return e}},s=n(9359),i=n.n(s),m=n(1880),u=n(9098),d=n(6530);const f=(0,u.Ps)(c||(c=(0,m.Z)(["\n","\nquery Customer($customerAccessToken: String!) {\n    customer(customerAccessToken: $customerAccessToken) {\n      ...CustomerData\n    }\n  }\n\n"])),d.k);var v=n(8653),p=n(4160);const g={customer:null,customerLoader:!1},x=(0,r.createContext)(),y="undefined"!=typeof window,E="shopify_cat",h=e=>{let{children:t}=e;const{0:n,1:c}=(0,r.useReducer)(o,g),s=async()=>{var e;if(c({type:l,payload:!0}),!(0,v.$1)(E))return void(0,p.c4)("/account/login");const t=await i().query({query:f,variables:{customerAccessToken:y&&(0,v.$1)(E)?(0,v.$1)(E):null}});var n;(console.log(t,"customerData"),null!=t&&null!==(e=t.data)&&void 0!==e&&e.customer)&&(e=>{c({type:a,payload:e})})(null==t||null===(n=t.data)||void 0===n?void 0:n.customer);c({type:l,payload:!1})};return(0,r.useEffect)((()=>{s()}),[]),r.createElement(x.Provider,{value:n},t)}},6163:function(e,t,n){var r=n(7294),a=n(2025);t.Z=()=>{const{loading:e,addProductVariantToCart:t,removeLineItem:n,updateLineItem:l,cart:c,toggleCartDrawer:o,isCartDrawerOpen:s}=(0,r.useContext)(a.x);if(void 0===c)throw new Error("useCart must be used within StoreContext");const i=function(e,n){let{variantId:r,quantity:a}=e;void 0===n&&(n=void 0);t({variantId:r,quantity:a},n)},m=e=>{let{lineId:t,quantity:n}=e;const r={lineId:t,quantity:n,cartId:c.id};l(r)},u=e=>{let{lineId:t}=e;const r={lineId:t,cartId:c.id};n(r)};return(0,r.useMemo)((()=>({loading:e,addVariantToCart:i,removeCartLineItem:u,updateCartLineItem:m,cart:c,toggleCartDrawer:o,isCartDrawerOpen:s})),[e,i,u,m,c,o,s])}},4392:function(e,t,n){var r=n(7294),a=n(6417);t.Z=()=>{const{customer:e,customerLoader:t}=(0,r.useContext)(a.w);return{customerLoader:t,customer:e}}},2514:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7294),a=n(8653),l=n(4160);function c(){const{0:e,1:t}=(0,r.useState)(!1),n=(0,a.$1)("shopify_cat");(0,r.useEffect)((()=>{n&&t(!0)}),[]);return{isCustomerLogin:e,logOut:(0,r.useCallback)((()=>{(0,a.lE)("shopify_cat","",0),t(!1),(0,l.c4)("/account/login")}),[])}}},6886:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7294);function a(e){let{price:t,compareAtPrice:n,currencyCode:a="USD",withZero:l=!1}=e;const{0:c,1:o}=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:l?2:0});o({price:e.format(t),compareAtPrice:n?e.format(n):n})}),[a,t,n,l]),console.log(c,"moneyFormatmoneyFormat"),c}},7578:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(7294),a=n(4108),l=n(6417),c=n(4392),o=n(2514);function s(){const{customer:e,customerLoader:t}=(0,c.Z)(),{logOut:n}=(0,o.Z)();return console.log((0,c.Z)(),"useCustomer()"),r.createElement("div",{className:"account-detail"},t?r.createElement("h1",null,"Loading..."):r.createElement("div",{className:"container"},r.createElement("h1",null,"Wellcome ",null==e?void 0:e.firstName," ",null==e?void 0:e.lastName),r.createElement("h1",null,"Email ",null==e?void 0:e.email),r.createElement("h1",null,"mobile ",null==e?void 0:e.phone),r.createElement("button",{onClick:()=>n()},"logout")))}function i(){return r.createElement(a.Z,null,r.createElement(l.u,null,r.createElement("div",null,r.createElement(s,null))))}},6530:function(e,t,n){n.d(t,{k:function(){return m}});var r,a=n(1880),l=n(9098);const c=(0,l.Ps)(r||(r=(0,a.Z)(["\nfragment CustomerAddress on MailingAddress{\n    address1\n    address2\n    city\n    company\n    country\n    countryCodeV2\n    firstName\n    formatted\n    formattedArea\n    id\n    lastName\n    name\n    phone\n    province\n    provinceCode\n    zip\n}\n"])));var o;const s=(0,l.Ps)(o||(o=(0,a.Z)(["\n","\nfragment CustomerOrder on Order{\n        billingAddress {\n          ...CustomerAddress\n        }\n        canceledAt\n        currencyCode\n        currentSubtotalPrice {\n          amount\n          currencyCode\n        }\n        currentTotalPrice {\n          amount\n          currencyCode\n        }\n        currentTotalTax {\n          amount\n          currencyCode\n        }\n        customAttributes {\n          key\n          value\n        }\n        customerUrl\n        email\n        financialStatus\n        fulfillmentStatus\n        id\n        name\n        orderNumber\n        originalTotalPrice {\n          amount\n          currencyCode\n        }\n        phone\n        processedAt\n        shippingAddress {\n            ...CustomerAddress\n        }\n        statusUrl\n        subtotalPrice {\n          amount\n          currencyCode\n        }\n        totalPrice {\n          amount\n          currencyCode\n        }\n}\n"])),c);var i;const m=(0,l.Ps)(i||(i=(0,a.Z)(["\n","\n","\nfragment CustomerData on Customer{\n    acceptsMarketing\n    createdAt\n    displayName\n    email\n    firstName\n    id\n    lastName\n    phone\n    tags\n    updatedAt\n    addresses(first: 15) {\n        nodes {\n       ...CustomerAddress\n        }\n    }\n    defaultAddress {\n        ...CustomerAddress  \n    }\n    orders(first: 100) {\n        nodes {\n            ...CustomerOrder\n        }\n    }\n}\n"])),s,c)},8653:function(e,t,n){n.d(t,{$1:function(){return a},fi:function(){return l},lE:function(){return r}});const r=function(e,t,n){void 0===n&&(n=1);const r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);let a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},a=e=>{let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "==e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""},l=e=>{const t=new Date,n=new Date(e);return Math.round(Math.abs((t-n)/864e5))}}}]);
//# sourceMappingURL=component---src-pages-account-index-js-001c44f20d221912ef12.js.map